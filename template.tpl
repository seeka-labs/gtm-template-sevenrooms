___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "SevenRooms install",
  "brand": {
    "id": "brand_dummy",
    "displayName": "Seeka",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAAGGCAYAAAB/gCblAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGiGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuZjM1NGVmYywgMjAyMy8xMS8wOS0xMjo0MDoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjUgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0xMC0yN1QxNjo1NDoyNysxMDowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDItMTZUMTY6Mzk6MDArMTA6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDItMTZUMTY6Mzk6MDArMTA6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmMyMDMzNzY4LWU2MTktZWM0NC1iMTY5LWU2NGIyNmE3YWRiMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozYzE3OTY0Yi0yZDZlLTYwNDAtODdhNi1iODVjNTQyMjQ3ZjMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYzE3OTY0Yi0yZDZlLTYwNDAtODdhNi1iODVjNTQyMjQ3ZjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNjMTc5NjRiLTJkNmUtNjA0MC04N2E2LWI4NWM1NDIyNDdmMyIgc3RFdnQ6d2hlbj0iMjAyMi0xMC0yN1QxNjo1NDoyNysxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIzLjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiYTU0YTgzMC03YzU5LWVkNDUtYjcxOC05YjQ3Y2QyY2E5MDIiIHN0RXZ0OndoZW49IjIwMjQtMDItMTZUMTY6Mzg6MzArMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNS40IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzIwMzM3NjgtZTYxOS1lYzQ0LWIxNjktZTY0YjI2YTdhZGIwIiBzdEV2dDp3aGVuPSIyMDI0LTAyLTE2VDE2OjM5OjAwKzEwOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjUuNCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+iM+IkgAAF81JREFUeJzt3c11G1e2huHv3OU52QmQcASAIxAcgTjmRFAEZkfQUASXikDQhFPDETQYgYAIDDIBAxGc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\u003d\u003d"
  },
  "description": "Installs Seeka on a GTM container that is applied to SevenRooms.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "seekaInstanceId",
    "displayName": "Seeka - instance ID",
    "simpleValueType": true,
    "valueHint": "d201f04501e845459a645690e299357f",
    "help": "Get your instance ID from https://seeka.app/settings/integrations/api"
  },
  {
    "type": "TEXT",
    "name": "seekaPublicKey",
    "displayName": "Seeka - Public key",
    "simpleValueType": true,
    "valueHint": "sdkr_Q2ZESjhPWkNZdzdQRGdSQXU4VWZjV0c3TmdIdEgzTnhneWY4V01lRV9RajNWaHNnSV",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Get your public key from https://seeka.app/settings/integrations/api"
  },
  {
    "type": "TEXT",
    "name": "seekaSdkVersion",
    "displayName": "Seeka - SDK version",
    "simpleValueType": true,
    "defaultValue": "latest",
    "canBeEmptyString": true,
    "help": "Can be either \"latest\" or \"alpha\".",
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^(latest|alpha)?$"
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const getUrl = require('getUrl');
const getTimestampMillis = require('getTimestampMillis');
const logToConsole = require('logToConsole');

const host = getUrl('host');
if(!host && host !== "www.sevenrooms.com" && host !== "sevenrooms.com" && host !== "tagmanager.googleusercontent.com"){  
  logToConsole('Not running on ' + host);
  data.gtmOnSuccess();  
  return;
}

if (data.seekaInstanceId && data.seekaPublicKey) {
  var scriptUrl = "https://sdk.seeka.services/static/c/" + data.seekaInstanceId + ".js?k=" + data.seekaPublicKey + "&vo=" + (data.seekaSdkVersion || "latest");
  
  // Cache bust
  const query = getUrl('query');
  if(query && query.indexOf('cache=0') > -1){
    scriptUrl += '&cache=' + getTimestampMillis();
  }
  
  injectScript(scriptUrl);
  data.gtmOnSuccess();  
}
else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.seeka.services/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "query",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "host",
          "value": {
            "type": 8,
            "boolean": true
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Untitled test 1
  code: |-
    const mockData = {
      seekaInstanceId: "7c8660c5e7c77256fdc03a0ccffec13c",
      seekaPublicKey: "sdkr_Q2ZESjhPWkNZdzdQRGdSQXU4VWZjV0c3TmdIdEgzTnhneWY4V01lRV9RajNWaHNnSVJZa0FnUXJDbUhHbm9reDhMTzZFSEw2ZzNQdzRyQkNxekgwWFg5QXg1V3QxYmRlQVFZc19RSEpNX2xsMlNwb3lGb1hJcF9wNGxJLWQ4dkVPaWUwcy1xVzU1OHFxQTV2d3BCdFlOMkYwb1ItWFNqTWViRjRPcHh2ekpRSERYLXE",
      seekaSdkVersion: "alpha"
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 9/24/2024, 2:22:46 PM


